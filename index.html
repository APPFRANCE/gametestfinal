<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MONEY DROP</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');

        body {
            margin: 0;
            background-color: #000;
            color: #fff;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            height: 100vh;
        }

        .title-container {
            margin-top: 20px;
        }
        
        .title {
            font-size: 4em;
            color: #1a2e5d;
            font-family: Impact, sans-serif;
            text-align: center;
            text-transform: uppercase;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 80%;
            max-width: 1200px;
            margin-top: 20px;
            gap: 20px;
            position: relative;
        }

        .header-info {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            color: #ddd;
            font-size: 1em;
        }

        .status-indicator {
            position: absolute;
            top: 0;
            right: 0;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: red;
        }

        .ranking {
            font-size: 1.2em;
            color: #ddd;
            text-align: center;
            margin-top: 10px;
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .button {
            background-color: #444;
            color: #fff;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
            font-size: 1em;
            text-align: center;
        }

        .button:hover {
            background-color: #666;
        }

        .button:active {
            transform: scale(0.95);
        }

        .team-container {
            display: flex;
            justify-content: space-around;
            width: 80%;
            max-width: 1200px;
            margin-top: 20px;
            gap: 20px;
        }

        .team {
            text-align: center;
            background-color: #111;
            border-radius: 12px;
            padding: 20px;
            width: 30%;
            box-shadow: 0 4px 10px rgba(255, 0, 0, 0.5);
        }

        .team-name {
            color: #aaa;
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .points {
            font-size: 4em;
            color: #ff0000;
            font-family: 'Orbitron', sans-serif;
            background-color: #111;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin-top: 20px;
        }

        .team-details {
            margin-top: 10px;
            font-size: 0.9em;
            color: #ccc;
        }

        .freeze-timer {
            font-size: 1em;
            color: #ddd;
            margin-top: 5px;
        }

        .panel {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #222;
            padding: 20px;
            border-radius: 8px;
            width: 300px;
            text-align: center;
            z-index: 10;
            max-height: 60%;
            overflow-y: auto;
        }

        .log-entry {
            font-size: 0.9em;
            margin: 5px 0;
            padding: 5px;
            border-bottom: 1px solid #333;
            text-align: left;
        }

        .countdown {
            font-size: 2em;
            color: #ddd;
            margin-top: 20px;
            position: absolute;
            bottom: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="title-container">
        <div class="title">MONEY DROP</div>
    </div>

    <div class="status-indicator" id="statusIndicator"></div>

    <div class="header">
        <div class="header-info">
            <div>Temps de Freeze (points sauv√©s) : <span id="freezeTime">Nico: 0m, Yanis: 0m, Matt: 0m</span></div>
            <div>Indices trouv√©s : üîë <span id="indicesFound">Nico: 0, Yanis: 0, Matt: 0</span></div>
        </div>
        <div class="buttons">
            <div class="button" onclick="togglePanel('settingsPanel')">Settings</div>
            <div class="button" onclick="togglePanel('logPanel')">Log</div>
        </div>
    </div>

    <div class="ranking" id="ranking"></div>

    <div class="team-container">
        <div class="team">
            <div class="team-name">Equipe Nico</div>
            <div class="points" id="points-nico">10000</div>
            <div class="team-details">
                Capitaine: Nico<br>
                Team: FRP<br>
                Cust: Camille + Andela
            </div>
            <div class="freeze-timer" id="freeze-timer-nico"></div>
        </div>
        <div class="team">
            <div class="team-name">Equipe Yanis</div>
            <div class="points" id="points-yanis">10000</div>
            <div class="team-details">
                Capitaine: Yanis<br>
                Team: FRY / FRL / FRN / FRM / FRT / FRH / FRS<br>
                Cust: L√©na + Im√®ne
            </div>
            <div class="freeze-timer" id="freeze-timer-yanis"></div>
        </div>
        <div class="team">
            <div class="team-name">Equipe Matt</div>
            <div class="points" id="points-matt">10000</div>
            <div class="team-details">
                Capitaine: Matt<br>
                Team: FRA / FRD / FRC / FRR et FRB<br>
                Cust: Wendy + Sybille
            </div>
            <div class="freeze-timer" id="freeze-timer-matt"></div>
        </div>
    </div>

    <div class="panel settings-panel" id="settingsPanel">
        <h2>Modifier les Points & Freeze</h2>
        <select id="teamSelect">
            <option value="nico">Equipe Nico</option>
            <option value="yanis">Equipe Yanis</option>
            <option value="matt">Equipe Matt</option>
        </select>
        <input type="text" id="pointsInput" placeholder="Entrez + ou - suivi de la valeur">
        <button onclick="confirmClick(this); updatePoints()">Appliquer</button>
        <input type="number" id="freezeDuration" placeholder="Dur√©e Freeze (minutes)" min="1">
        <button class="freeze-button" id="freezeButton" onclick="confirmClick(this); toggleFreeze()">Freeze</button>
        <button onclick="confirmClick(this); undoLastAction()">Annuler la derni√®re action</button>
        <button onclick="toggleAutoDecrement()">D√©compte automatique: <span id="autoDecrementStatus">OFF</span></button>
        <button class="close-button" onclick="togglePanel('settingsPanel')">Fermer</button>
    </div>

    <div class="panel log-panel" id="logPanel">
        <h2>Historique des Actions</h2>
        <select id="savedGames" onchange="loadGame(this.value)">
            <option value="">S√©lectionnez une sauvegarde</option>
        </select>
        <button onclick="clearLog()">Clear Log</button>
        <button class="close-button" onclick="togglePanel('logPanel')">Fermer</button>
        <div id="logContent" class="log-content"></div>
    </div>

    <div class="countdown" id="countdown">Temps restant : --j --h --m --s</div>

    <script>
        const teams = {
            nico: { points: 10000, frozen: false, freezeTime: 0, freezeTotal: 0, keys: 0 },
            yanis: { points: 10000, frozen: false, freezeTime: 0, freezeTotal: 0, keys: 0 },
            matt: { points: 10000, frozen: false, freezeTime: 0, freezeTotal: 0, keys: 0 }
        };
        const actionsLog = [];
        const endDate = new Date("2024-11-21T18:00:00");
        let autoDecrementActive = false;
        let autoDecrementInterval;
        let saveInterval;

        function initAutoSave() {
            saveInterval = setInterval(saveGame, 5 * 60 * 1000);
            updateSavedGamesDropdown();
        }

        function saveGame() {
            const gameState = {
                teams: JSON.parse(JSON.stringify(teams)),
                log: [...actionsLog],
                timestamp: new Date().toLocaleString()
            };

            let savedGames = JSON.parse(localStorage.getItem("savedGames")) || [];
            savedGames.push(gameState);

            if (savedGames.length > 10) {
                savedGames.shift();
            }

            localStorage.setItem("savedGames", JSON.stringify(savedGames));
            updateSavedGamesDropdown();
        }

        function loadGame(index) {
            if (index === "") return;

            const savedGames = JSON.parse(localStorage.getItem("savedGames"));
            const gameState = savedGames[index];

            if (!gameState) return;

            Object.keys(gameState.teams).forEach(teamKey => {
                teams[teamKey] = gameState.teams[teamKey];
                document.getElementById(`points-${teamKey}`).textContent = teams[teamKey].points;
            });

            actionsLog.length = 0;
            gameState.log.forEach(logEntry => actionsLog.push(logEntry));
            updateLogContent();
        }

        function updateSavedGamesDropdown() {
            const savedGames = JSON.parse(localStorage.getItem("savedGames")) || [];
            const dropdown = document.getElementById("savedGames");
            dropdown.innerHTML = `<option value="">S√©lectionnez une sauvegarde</option>`;
            savedGames.forEach((game, index) => {
                const option = document.createElement("option");
                option.value = index;
                option.textContent = `Sauvegarde ${index + 1} - ${game.timestamp}`;
                dropdown.appendChild(option);
            });
        }

        function updateLogContent() {
            const logContent = document.getElementById("logContent");
            logContent.innerHTML = "";
            actionsLog.forEach(log => {
                const entry = document.createElement("div");
                entry.className = "log-entry";
                entry.textContent = log;
                logContent.appendChild(entry);
            });
        }

        function clearLog() {
            const logContent = document.getElementById("logContent");
            const timestamp = new Date().toLocaleString();
            logContent.innerHTML = `<div class="log-entry">Log clear le ${timestamp}</div>`;
        }

        document.addEventListener("DOMContentLoaded", () => {
            initAutoSave();
            setInterval(updateCountdown, 1000);
        });

        function updateCountdown() { /* Ton code de compte √† rebours */ }
        function toggleAutoDecrement() { /* Ton code pour le d√©cr√©ment automatique */ }
        function updatePoints() { /* Ton code pour l‚Äôactualisation des points */ }
        function toggleFreeze() { /* Ton code pour activer/d√©sactiver le freeze */ }
        function undoLastAction() { /* Ton code pour annuler la derni√®re action */ }
        function togglePanel(panelId) { /* Ton code pour afficher/masquer les panneaux */ }
        function confirmClick(button) { /* Ton code pour ajouter une animation de clic */ }
    </script>
</body>
</html>

